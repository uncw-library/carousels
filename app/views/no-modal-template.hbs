{{#each carousels.rows}}
    <!-- Each carousel row uses this same template -->
    <div class="row mb-5 mt-3 book-row">
        <div class="card book-card">
            <div class="card-body">
                <!-- row title elem -->
                <h5 class="card-title">
                    {{this.title}}
                    {{#if this.rssFeed}}
                    <a href="{{this.rssFeed}}" title="Subscribe to Library {{this.title}} Feed">
                        <img src="https://library.uncw.edu/misc/feed.png" width="16" height="16" alt="Subscribe to Library {{this.title}} Feed" />
                    </a>
                    {{/if}}
                </h5>
                <!-- carousel items -->
                <div id="carousel-slide-{{increment @index}}" class="carousel slide" data-ride="carousel">
                    <div class="carousel-inner">
                        {{#each this.items}}
                        <!-- each chunk of 5 items, i.e, 5 books, cds, etc -->
                        <div class="carousel-item {{#unless @index}}active{{/unless}}">
                            <div class="row justify-content-center">
                                {{#each this}}
                                <!-- each item in the chunk, i.e., a book, cd, etc -->
                                <div class="syn_skipthis col-auto book-div">
                                    <img class="img img-thumbnail" onerror="this.src='/images/book{{onetwothree @index}}.jpg';" src="http://www.syndetics.com/index.php?isbn={{this.isbn}}&upc={{this.UPC}}/lc.gif&client=uncwh">
                                    <a href="https://libcat.uncw.edu/record=b{{this.recordnum}}">
                                        <div class="overlay">
                                            <div class="text">
                                                {{this.titleFixed}} - {{this.authorFixed}}
                                            </div>
                                        </div>
                                    </div>
                                </a>
                                {{/each}}
                            </div>
                        </div>
                        {{/each}}
                    </div>
                    <a class="carousel-control-prev" href="#carousel-slide-{{increment @index}}" role="button" data-slide="prev">
                        <span style="color:Black;">
                            <i class="fas fa-arrow-circle-left fa-3x"></i>
                        </span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="carousel-control-next" href="#carousel-slide-{{increment @index}}" role="button" data-slide="next">
                        <span style="color:Black;">
                            <span class="fas fa-arrow-circle-right fa-3x"></span>
                        </span>
                        <span class="sr-only">Next</span>
                    </a>
                </div>
            </div>
        </div>
    </div>
{{/each}}


<div style="text-align:center;">
    <div class="col-auto">
    </div>
</div>

<script>
    $('#carousel-slide-1').carousel({
        interval: 10000
    })

    $('#carousel-slide-2').carousel({ // false until 10 seconds have passed
        interval: 10000
    })

    $('#carousel-slide-2').carousel('pause')

    setTimeout(function() {
        $('#carousel-slide-2').carousel('cycle');
    }, 5000);
</script>